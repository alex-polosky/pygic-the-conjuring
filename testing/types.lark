%import primitives (_A,_B,_C,_D,_E,_F,_G,_H,_I,_J,_K,_L,_M,_N,_O,_P,_Q,_R,_S,_T,_U,_V,_W,_X,_Y,_Z,_PLURAL,_POSSESSIVE)
%import primitives (WHOLE, ZERO)
%import primitives (PLUS,HYPHEN)

_CARD_TYPE: _A"rtifact"
    | _B"attle"
    | _C"onspiracy"
    | _C"reature"
    | _D"ungeon"
    | _E"nchantment"
    | _I"nstant"
    | _K"indred"
    | _L"and"
    | _P"henomenon"
    | _P"lane"
    | _P"laneswalker"
    | _S"cheme"
    | _S"orcery"
    | _V"anguard"
CARD_TYPE.8: _CARD_TYPE (_PLURAL| _POSSESSIVE)?

_SUBTYPE_ARTIFACT.9: "Attraction"
    | "Blood"
    | "Bobblehead"
    | "Clue"
    | "Contraption"
    | "Equipment"
    | "Food"
    | "Fortification"
    | "Gold"
    | "Incubator"
    | "Junk"
    | "Map"
    | "Powerstone"
    | "Treasure"
    | "Vehicle"
SUBTYPE_ARTIFACT.9: _SUBTYPE_ARTIFACT _PLURAL?

_SUBTYPE_ENCHANTMENT: "Aura"
    | "Background"
    | "Cartouche"
    | "Case"
    | "Class"
    | "Curse"
    | "Role"
    | "Room"
    | "Rune"
    | "Saga"
    | "Shard"
    | "Shrine"
SUBTYPE_ENCHANTMENT.9: _SUBTYPE_ENCHANTMENT _PLURAL?

_SUBTYPE_BASICLAND: "Forest"
    | "Island"
    | "Mountain"
    | "Plains"
    | "Swamp"
SUBTYPE_BASICLAND.9: _SUBTYPE_BASICLAND _PLURAL?

_SUBTYPE_LAND: "Cave"
    | "Desert"
    | "Gate"
    | "Lair"
    | "Locus"
    | "Mine"
    | "Power-Plant"
    | "Sphere"
    | "Tower"
    | "Town"
    | "Urza’s"
    | "Urza's"
SUBTYPE_LAND.9: _SUBTYPE_LAND _PLURAL?

SUBTYPE_PLANESWALKER.9: "Ajani"
    | "Aminatou"
    | "Angrath"
    | "Arlinn"
    | "Ashiok"
    | "Bahamut"
    | "Basri"
    | "Bolas"
    | "Calix"
    | "Chandra"
    | "Comet"
    | "Dack"
    | "Dakkon"
    | "Daretti"
    | "Davriel"
    | "Dihada"
    | "Domri"
    | "Dovin"
    | "Ellywick"
    | "Elminster"
    | "Elspeth"
    | "Estrid"
    | "Freyalise"
    | "Garruk"
    | "Gideon"
    | "Grist"
    | "Guff"
    | "Huatli"
    | "Jace"
    | "Jared"
    | "Jaya"
    | "Jeska"
    | "Kaito"
    | "Karn"
    | "Kasmina"
    | "Kaya"
    | "Kiora"
    | "Koth"
    | "Liliana"
    | "Lolth"
    | "Lukka"
    | "Minsc"
    | "Mordenkainen"
    | "Nahiri"
    | "Narset"
    | "Niko"
    | "Nissa"
    | "Nixilis"
    | "Oko"
    | "Quintorius"
    | "Ral"
    | "Rowan"
    | "Saheeli"
    | "Samut"
    | "Sarkhan"
    | "Serra"
    | "Sivitri"
    | "Sorin"
    | "Szat"
    | "Tamiyo"
    | "Tasha"
    | "Teferi"
    | "Teyo"
    | "Tezzeret"
    | "Tibalt"
    | "Tyvar"
    | "Ugin"
    | "Urza"
    | "Venser"
    | "Vivien"
    | "Vraska"
    | "Vronos"
    | "Will"
    | "Windgrace"
    | "Wrenn"
    | "Xenagos"
    | "Yanggu"
    | "Yanling"
    | "Zariel"

SUBTYPE_SPELL.9: "Adventure"
    | "Arcane"
    | "Lesson"
    | "Omen"
    | "Trap"

_SUBTYPE_CREATURE: "Time Lord"
    | "Advisor"
    | "Aetherborn"
    | "Alien"
    | "Ally" | "Allies"
    | "Angel"
    | "Antelope"
    | "Ape"
    | "Archer"
    | "Archon"
    | "Armadillo"
    | "Army" | "Armies"
    | "Artificer"
    | "Assassin"
    | "Assembly-Worker"
    | "Astartes"
    | "Atog"
    | "Aurochs"
    | "Avatar"
    | "Azra"
    | "Badger"
    | "Balloon"
    | "Barbarian"
    | "Bard"
    | "Basilisk"
    | "Bat"
    | "Bear"
    | "Beast"
    | "Beaver"
    | "Beeble"
    | "Beholder"
    | "Berserker"
    | "Bird"
    | "Blinkmoth"
    | "Boar"
    | "Bringer"
    | "Brushwagg"
    | "Camarid"
    | "Camel"
    | "Capybara"
    | "Caribou"
    | "Carrier"
    | "Cat"
    | "Centaur"
    | "Child"
    | "Chimera"
    | "Citizen"
    | "Cleric"
    | "Clown"
    | "Cockatrice"
    | "Construct"
    | "Coward"
    | "Coyote"
    | "Crab"
    | "Crocodile"
    | "C’tan"
    | "C'tan"
    | "Custodes"
    | "Cyberman"
    | "Cyclops"
    | "Dalek"
    | "Dauthi"
    | "Demigod"
    | "Demon"
    | "Deserter"
    | "Detective"
    | "Devil"
    | "Dinosaur"
    | "Djinn"
    | "Doctor"
    | "Dog"
    | "Dragon"
    | "Drake"
    | "Dreadnought"
    | "Drone"
    | "Druid"
    | "Dryad"
    | "Dwarf" | "Dwarves"
    | "Efreet"
    | "Egg"
    | "Elder"
    | "Eldrazi"
    | "Elemental"
    | "Elephant"
    | "Elf" | "Elves"
    | "Elk"
    | "Employee"
    | "Eye"
    | "Faerie"
    | "Ferret"
    | "Fish"
    | "Flagbearer"
    | "Fox" | "Foxes"
    | "Fractal"
    | "Frog"
    | "Fungus" | "Fungi"
    | "Gamer"
    | "Gargoyle"
    | "Germ"
    | "Giant"
    | "Gith"
    | "Glimmer"
    | "Gnoll"
    | "Gnome"
    | "Goat"
    | "Goblin"
    | "God"
    | "Golem"
    | "Gorgon"
    | "Graveborn"
    | "Gremlin"
    | "Griffin"
    | "Guest"
    | "Hag"
    | "Halfling"
    | "Hamster"
    | "Harpy" | "Harpies"
    | "Hellion"
    | "Hero"
    | "Hippo"
    | "Hippogriff"
    | "Homarid"
    | "Homunculus" | "Homunculi"
    | "Horror"
    | "Horse"
    | "Human"
    | "Hydra"
    | "Hyena"
    | "Illusion"
    | "Imp"
    | "Incarnation"
    | "Inkling"
    | "Inquisitor"
    | "Insect"
    | "Jackal"
    | "Jellyfish"
    | "Juggernaut"
    | "Kavu"
    | "Kirin"
    | "Kithkin"
    | "Knight"
    | "Kobold"
    | "Kor"
    | "Kraken"
    | "Llama"
    | "Lamia"
    | "Lammasu"
    | "Leech"
    | "Leviathan"
    | "Lhurgoyf"
    | "Licid"
    | "Lizard"
    | "Manticore"
    | "Masticore"
    | "Mercenary" | "Mercenaries"
    | "Merfolk"
    | "Metathran"
    | "Minion"
    | "Minotaur"
    | "Mite"
    | "Mole"
    | "Monger"
    | "Mongoose"
    | "Monk"
    | "Monkey"
    | "Moogle"
    | "Moonfolk"
    | "Mount"
    | "Mouse"
    | "Mutant"
    | "Myr"
    | "Mystic"
    | "Nautilus"
    | "Necron"
    | "Nephilim"
    | "Nightmare"
    | "Nightstalker"
    | "Ninja"
    | "Noble"
    | "Noggle"
    | "Nomad"
    | "Nymph"
    | "Octopus" | "Octopuses"
    | "Ogre"
    | "Ooze"
    | "Orb"
    | "Orc"
    | "Orgg"
    | "Otter"
    | "Ouphe"
    | "Ox"
    | "Oyster"
    | "Pangolin"
    | "Peasant"
    | "Pegasus"
    | "Pentavite"
    | "Performer"
    | "Pest"
    | "Phelddagrif"
    | "Phoenix"
    | "Phyrexian"
    | "Pilot"
    | "Pincher"
    | "Pirate"
    | "Plant"
    | "Porcupine"
    | "Possum"
    | "Praetor"
    | "Primarch"
    | "Prism"
    | "Processor"
    | "Qu"
    | "Rabbit"
    | "Raccoon"
    | "Ranger"
    | "Rat"
    | "Rebel"
    | "Reflection"
    | "Rhino"
    | "Rigger"
    | "Robot"
    | "Rogue"
    | "Sable"
    | "Salamander"
    | "Samurai"
    | "Sand"
    | "Saproling"
    | "Satyr"
    | "Scarecrow"
    | "Scientist"
    | "Scion"
    | "Scorpion"
    | "Scout"
    | "Sculpture"
    | "Seal"
    | "Serf"
    | "Serpent"
    | "Servo"
    | "Shade"
    | "Shaman"
    | "Shapeshifter"
    | "Shark"
    | "Sheep"
    | "Siren"
    | "Skeleton"
    | "Skunk"
    | "Slith"
    | "Sliver"
    | "Sloth"
    | "Slug"
    | "Snail"
    | "Snake"
    | "Soldier"
    | "Soltari"
    | "Spawn"
    | "Specter"
    | "Spellshaper"
    | "Sphinx"
    | "Spider"
    | "Spike"
    | "Spirit"
    | "Splinter"
    | "Sponge"
    | "Squid"
    | "Squirrel"
    | "Starfish"
    | "Surrakar"
    | "Survivor"
    | "Synth"
    | "Tentacle"
    | "Tetravite"
    | "Thalakos"
    | "Thopter"
    | "Thrull"
    | "Tiefling"
    | "Toy"
    | "Treefolk"
    | "Trilobite"
    | "Triskelavite"
    | "Troll"
    | "Turtle"
    | "Tyranid"
    | "Unicorn"
    | "Vampire"
    | "Varmint"
    | "Vedalken"
    | "Volver"
    | "Wall"
    | "Walrus"
    | "Warlock"
    | "Warrior"
    | "Weasel"
    | "Weird"
    | "Werewolf" | "Werewolves"
    | "Whale"
    | "Wizard"
    | "Wolf" | "Wolves"
    | "Wolverine"
    | "Wombat"
    | "Worm"
    | "Wraith"
    | "Wurm"
    | "Yeti"
    | "Zombie"
    | "Zubera"
SUBTYPE_CREATURE.7: _SUBTYPE_CREATURE _PLURAL?

SUBTYPE_PLANAR.9: "The Abyss"
    | "Alara"
    | "Alfava Metraxis"
    | "Amonkhet"
    | "Androzani Minor"
    | "Antausia"
    | "Apalapucia"
    | "Arcavios"
    | "Arkhos"
    | "Avishkar"
    | "Azgol"
    | "Belenon"
    | "Bolas’s Meditation Realm"
    | "Bolas's Meditation Realm"
    | "Capenna"
    | "Cridhe"
    | "The Dalek Asylum"
    | "Darillium"
    | "Dominaria"
    | "Earth"
    | "Echoir"
    | "Eldraine"
    | "Equilor"
    | "Ergamon"
    | "Fabacin"
    | "Fiora"
    | "Gallifrey"
    | "Gargantikar"
    | "Gobakhan"
    | "Horsehead Nebula"
    | "Ikoria"
    | "Innistrad"
    | "Iquatana"
    | "Ir"
    | "Ixalan"
    | "Kaldheim"
    | "Kamigawa"
    | "Kandoka"
    | "Karsus"
    | "Kephalai"
    | "Kinshala"
    | "Kolbahan"
    | "Kylem"
    | "Kyneth"
    | "The Library"
    | "Lorwyn"
    | "Luvion"
    | "Mars"
    | "Mercadia"
    | "Mirrodin"
    | "Moag"
    | "Mongseng"
    | "Moon"
    | "Muraganda"
    | "Necros"
    | "New Earth"
    | "New Phyrexia"
    | "Outside Mutter’s Spiral"
    | "Outside Mutter's Spiral"
    | "Phyrexia"
    | "Pyrulea"
    | "Rabiah"
    | "Rath"
    | "Ravnica"
    | "Regatha"
    | "Segovia"
    | "Serra’s Realm"
    | "Serra's Realm"
    | "Shadowmoor"
    | "Shandalar"
    | "Shenmeng"
    | "Skaro"
    | "Spacecraft"
    | "Tarkir"
    | "Theros"
    | "Time"
    | "Trenzalore"
    | "Ulgrotha"
    | "Unknown Planet"
    | "Valla"
    | "Vryn"
    | "Wildfire"
    | "Xerex"
    | "Zendikar"
    | "Zhalfir"

SUBTYPE_DUNGEON.9: "Undercity"

SUBTYPE_BATTLE.9: "Siege"

SUBTYPE_ROLE_TOKEN.9: "Cursed Role"
    | "Monster Role"
    | "Royal Role"
    | "Sorcerer Role"
    | "Wicked Role"
    | "Young Hero Role"
    | "Virtuous Role"

SUPERTYPE.9: _B"asic"
    | _L"egendary"
    | _O"ngoing"
    | _S"now"
    | _W"orld"

COLOR.8: _M"onocolored"
    | _M"ulticolored"
    | _C"olorless"
    | _W"hite"
    | _B"lue"
    | _B"lack"
    | _R"ed"
    | _G"reen"
    | "color" _PLURAL?

ENERGY_COST: "{E}"
TAP_COST   : "{T}"
UNTAP_COST : "{Q}"

MANA_COST: "{C}"
    | "{W}"
    | "{U}"
    | "{B}"
    | "{R}"
    | "{G}"
    | "{H}"
    | "{S}"
    | "{X}"
    | "{Y}"
    | "{Z}"
    | "{P}"
    | /\{\d{1,3}\}/
    | "{W/U}"
    | "{W/B}"
    | "{U/B}"
    | "{U/R}"
    | "{B/R}"
    | "{B/G}"
    | "{R/G}"
    | "{R/W}"
    | "{G/W}"
    | "{G/U}"
    | "{C/W}"
    | "{C/U}"
    | "{C/B}"
    | "{C/R}"
    | "{C/G}"
    | "{2/W}"
    | "{2/U}"
    | "{2/B}"
    | "{2/R}"
    | "{2/G}"
    | "{W/P}"
    | "{U/P}"
    | "{B/P}"
    | "{R/P}"
    | "{G/P}"
    | "{W/U/P}"
    | "{W/B/P}"
    | "{U/B/P}"
    | "{U/R/P}"
    | "{B/R/P}"
    | "{B/G/P}"
    | "{R/G/P}"
    | "{R/W/P}"
    | "{G/W/P}"
    | "{G/U/P}"
    | "{CHAOS}"

INVERT_TYPE.9: (_N"on" | _N"on-")

// PW_COST.7: /^/ "["? ((PLUS | HYPHEN) (WHOLE+ | "X") | ZERO) "]"?
PW_COST.7: "["? ((PLUS | HYPHEN) (WHOLE+ | "X") | ZERO) "]"?

cost: MANA_COST+ | ENERGY_COST+ | TAP_COST | UNTAP_COST | PW_COST

subtype: SUBTYPE_ARTIFACT
    | SUBTYPE_ENCHANTMENT
    | SUBTYPE_BASICLAND
    | SUBTYPE_LAND
    | SUBTYPE_PLANESWALKER
    | SUBTYPE_SPELL
    | SUBTYPE_CREATURE
    | SUBTYPE_PLANAR
    | SUBTYPE_DUNGEON
    | SUBTYPE_BATTLE

// "card" | "spell" | "token" | "permanent"

card_type: INVERT_TYPE? (CARD_TYPE | SUPERTYPE | COLOR | subtype)
